name: CI
on:
  pull_request:
    branches: [develop]
  push:
    branches: [develop]

jobs:
  LintAndFormatting:
    runs-on: ubuntu-latest
    steps:
      - name: Installs Go
        uses: actions/setup-go@v2
        with:
          go-version: 1.14
      - name: Checkout the Code
        uses: actions/checkout@v2
      - name: run bash
        run: |
          pwd
          ls -al
          curl -v -u ${{ secrets.NEXUSUSERNAME }}:${{ secrets.NEXUSPASSWORD }} -X POST 'https://nexus-ppe.ourtesco.com/service/rest/v1/components?repository=amittaltestmaven' -F maven2.groupId=test2 -F maven2.artifactId=test12 -F maven2.version=1.0 -F maven2.asset1=@README.md -F maven2.asset1.extension=md

      #      - name: Lint the Code
#        run: |
#          export PATH=$PATH:$(go env GOPATH)/bin
#          go get -u golang.org/x/lint/golint
#          echo $GOPATH
#          echo $GOBIN
#          golint main.go
#          gofmt -w main.go
#
#  build:
#    runs-on: ubuntu-latest
#    steps:
#      - name: Installs Go
#        uses: actions/setup-go@v2
#        with:
#          go-version: 1.14
#      - name: Checkout the code
#        uses: actions/checkout@v2
#      - name: run go script
#        run: go run main.go
#      - name: Build Project
##        if: github.event_name == 'push'
#        run: go build main.go

#      - name: run bash
#        run: |
#          pwd
#          ls -al
#          curl -v -u ${{ secrets.NEXUSUSERNAME }}:${{ secrets.NEXUSPASSWORD }}  -X POST 'http://tpc001445.tgrc.tesco.org:8080/service/rest/v1/components?repository=amittal-test-maven' -F maven2.groupId=group3 -F maven2.artifactId=group3 -F maven2.version=2.0 -F maven2.asset1=README.md -F maven2.asset1.extension=md
#